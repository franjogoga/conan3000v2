<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Data.administracion.perfiles">
	<cache />
		
	<select id="searchPerfil" parameterType="IngSoft.administracion.bean.CriterioPerfilBeanData" resultType="IngSoft.administracion.bean.ResultadoPerfilBeanData">
		select PERFIL.IdPerfil as codigo, PERFIL.Nombre as nombre, PERFIL.Descripcion as descripcion
		from PERFIL
		where PERFIL.Nombre like #{nombre} and
			PERFIL.Descripcion like #{descripcion}
		order by 1 asc
	</select>
		
	<select id="getNextCodigo" resultType="java.lang.String">
		select max(IdPerfil) from PERFIL	
	</select>
	
	<insert id="insertPerfil" parameterType="IngSoft.administracion.bean.PerfilBeanData" flushCache="true">
		insert into PERFIL(IdPerfil, Nombre, Descripcion)
		values (#{codigo}, #{nombre}, #{descripcion})
	</insert>
	
	<select id="getPerfil" parameterType="java.lang.String" resultType="IngSoft.administracion.bean.PerfilBeanData">
		select IdPerfil as codigo, Nombre as nombre, Descripcion as descripcion
		from PERFIL p
		where p.IdPerfil = #{codigo}
	</select>
	
	<delete id="deletePerfil" parameterType="IngSoft.administracion.bean.PerfilBeanData">
		delete from PERFIL 
		where IdPerfil = #{codigo}
	</delete>
	
</mapper>