<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Data.administracion.invitado">

  <cache />
  
  
 
<select id="searchPlantillaInvitado" parameterType="IngSoft.administracion.bean.CriterioInvitadoBeanData" resultType="IngSoft.administracion.bean.ResultadoInvitadoBeanData">
SELECT 
inf245g2.INVITADO.IdInvitado AS codigo,
inf245g2.PERSONA.nombres AS nombre,
inf245g2.INVITADO.estado AS estado
FROM inf245g2.PERSONA , inf245g2.INVITADO
WHERE  inf245g2.PERSONA.IdPersona = inf245g2.INVITADO.IdInvitado
order by 1 asc  

</select>

<select id="getPLantillaInvitado" parameterType="java.lang.String"  resultType="IngSoft.administracion.bean.InvitadoBeanData">





SELECT 
inf245g2.PERSONA.IdPersona AS codigo,
inf245g2.PERSONA.Nombres as nombreInvitado,
inf245g2.PERSONA.ApePaterno as apellidoP,
inf245g2.PERSONA.ApeMaterno as apellidoM,
inf245g2.PERSONA.NumeroDocumento as numeroDoc,
inf245g2.PERSONA.FechaNac AS fechaNac,
inf245g2.PERSONA.TipoDocumento AS tipoDoc,
inf245g2.INVITADO.FechaReg AS fechaReg,
inf245g2.INVITADO.Correo AS correo,
inf245g2.INVITADO.TelefonoFijo AS telefonoF,
inf245g2.INVITADO.TelefonoCelular AS telefonoC,
inf245g2.INVITADO.Estado AS estado,

FROM
inf245g2.INVITADO ,  inf245g2.PERSONA 


WHERE
    inf245g2..IdInvitado   = #{codigo}
AND inf245g2.INVITADO.IdInvitado = inf245g2.PERSONA.IdPersona 

ORDER BY 1 ASC


</select>

<!--Modificar Invitado -->

<update id="modificarPlantillaInvitado" parameterType="IngSoft.administracion.bean.InvitadoBeanData" >
update PERSONA
set
Nombres	=	#{nombre} ,
ApePaterno	=	#{apellidoP} ,
ApeMaterno	=	#{apellidoM} ,
NumeroDocumento	=	#{numeroDoc} ,
FechaNac	=	#{fechaInicio} ,
TipoDocumento	=	#{tipoDoc} ,

where IdPersona= #{codigo}

update INVITADO
set
FechaRegistro	=	#{fechaFin} ,
Correo	=	#{correo} ,
TelefonoFijo	=	#{telefonoF} ,
TelefonoCelular	=	#{telefonoC} ,
Estado	=	#{estado} ,

where IdInvitado= #{codigo}

</update>
<!-- Fin modificar -->

<!--Eliminar invitado -->

<update id="deletePLantillaInvitado" parameterType="java.lang.String" >
update INVITADO set Estado ='Inactivo' where IdInvitado = #{codigo}
</update>
<!-- Fin eliminar -->
<!-- fin departamento,provincia y distrito -->

</mapper>